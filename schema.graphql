directive @auth on FIELD_DEFINITION

type Mutation {
    register(email: String!, password: String!, username: String!): User!
    login(email: String!, password: String!): User!
    addGroup(name: String!): Group! @auth
    addMember(groupId: ID!, email: String!): Group! @auth
    addRepayment(groupId: ID!, input: RepaymentInput!): Expense! @auth
    addExpense(groupId: ID!, input: ExpenseInput!): Expense! @auth
    editExpense(expenseId: ID!, input: ExpenseInput!): Expense! @auth
    deleteExpense(expenseId: ID!): Boolean! @auth
}

type Query {
    groups: [Group!]! @auth
    expenses(groupId: ID!): ExpenseSummary! @auth
    currencies: [Currency!]! @auth
}

input RepaymentInput {
    amount: Decimal!
    currencyId: ID!
    expenseAt: Time!
    debtor: ID!
    creditor: ID!
}

input ExpenseInput {
    amount: Decimal!
    currencyId: ID!
    expenseAt: Time!
    payers: [ShareInput!]!
    shares: [ShareInput!]!
}

input ShareInput {
    userId: ID!
    amount: Decimal!
}

scalar Decimal
scalar Time

type Subscription {
    expenseAdded(userId: ID!): Expense!
    expenseUpdated(userId: ID!): Expense!
}

type Currency {
    id: ID!
    code: String!
    name: String!
    symbol: String!
}

type User {
    id: ID!
    name: String!
    token: String!
}

type Group {
    id: ID!
    name: String!
    members: [User!]!
}

type ExpenseSummary {
    expenses: [Expense!]!
    owes: [Owe!]!
    owed: [Owe!]!
}

type Owe {
    user: User!
    amount: Decimal!
    currency: Currency!
}

type Expense {
    id: ID!
    type: String!
    amount: Decimal!
    currency: Currency!
    expenseAt: Time!
    payers: [Share!]!
    shares: [Share!]!
}

type Share {
    user: User!
    amount: Decimal!
}